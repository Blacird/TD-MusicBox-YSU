# TD-MusicBox-YSU

**汇编语言课程设计-西安唐都仪器-音乐盒程序-燕山大学（含电路图和程序代码）**

---

## 项目概述

基于8255（连接键盘的数码管）和8254（连接电子发声）的音乐盒程序，通过程序循环实现中断效果。

### 文件夹结构
- **最终版文件夹**：含报告、电路图、程序
- **参考程序文件夹**：含8255功能测试和8254功能测试。可在连接好电路图后依次检测硬件效果，排查问题。

---

## 功能需求

本项目设计并实现了一个基于80X86微机系统的音乐盒，具体要求如下：

1. **显示功能**：开机后在6位数码管上显示乐曲菜单（显示数字1、2、3）和作者信息（显示字母A、U）。
2. **乐曲选择**：通过4×4键盘的数字键1、2、3选择对应乐曲进行播放，并显示当前播放歌曲序号和名称。
3. **返回界面**：通过4×4键盘按键4实现返回开始菜单界面。
4. **退出功能**：通过4×4键盘按键Q（设计为5键）实现程序退出。
5. **中断功能**：在乐曲播放过程中，用户可以随时按下其他按键中断当前播放，而选择其他乐曲或退出程序。
6. **音频输出**：使用8254产生频率可调的方波信号，驱动扬声器播放三首预设乐曲。

---

## 显示界面布局

### 数码管显示规则
| 数码管位置 | 1    | 2    | 3    | 4    | 5    | 6    |
|------------|------|------|------|------|------|------|
| **初始显示** | 1    | 2    | 3    | A    | U    |      |
| **播放显示示例** | 3    | C    | A    | N    | O    |      |

*注：播放第三首乐曲时，曲名为"卡农"*

---

## 键盘布局映射

### 4×4键盘物理布局
```
行0: 1  2  3  4
行1: 5  6  7  8
行2: 9  0  A  B
行3: C  D  E  F
```

### 功能映射表
| 按键 | 功能描述                     |
|------|----------------------------|
| **1** | 选择第一首乐曲              |
| **2** | 选择第二首乐曲              |
| **3** | 选择第三首乐曲              |
| **4** | 回到开始界面                |
| **5** | 退出程序（设计为Q键）       |
| 其他键 | 无效                      |

---
